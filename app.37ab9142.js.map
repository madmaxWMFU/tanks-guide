{"version":3,"sources":["js/utils.js","js/lang.js","js/app.js"],"names":["parameters","application_id","getStringParams","params","Object","entries","map","param","key","join","romeNumber","sortByTier","a","b","tier","filterByType","list","type","values","filter","vehicle","getSortList","sort","firstVehicle","secondVehicle","getFilterList","lightTank","mediumTank","heavyTank","SPG","getUrl","path","getRomeNumber","num","lang","ru","nation","modal","armor","hp","hull","turret","weight","ammo","damage","penetration","fire_rate","aim_time","dispersion","max_ammo","crew","range","view_range","signal_range","speed","speed_forward","speed_backward","btn_add_compare","typeTank","en","fr","de","renderApp","document","querySelector","innerHTML","App","loadData","url","response","fetch","data","json","performSearch","cache","window","dataStore","status","process","then","error","catch","finally","searchByFilter","cacheType","dataset","value","split","filters","getVehicleInfo","id","searchData","classList","add","is_premium","images","big_icon","short_name","name","price_credit","price_gold","description","init","language","default_profile","item","gun","member","roles","radio","tank_id","getVehicleList","length","getVehicleTypes","generalData","vehicle_types","vehicleTypes","keys","toLocaleLowerCase","getVehicleNations","vehicle_nations","nationList","module","hot","accept","vehicleData","vehicle_compare","user_compare"],"mappings":"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","file":"app.37ab9142.js","sourceRoot":"..","sourcesContent":["const parameters = {\n  //   application_id: process.env.WOT_API_ID_KEY,\n  application_id: '42a820be7f4b3fa53490a3eebeae0521',\n};\n\nconst getStringParams = params => {\n  return Object.entries(params)\n    .map((param, key) => {\n      return `${param.join('=')}&`;\n    })\n    .join('');\n};\n\nconst romeNumber = {\n  1: 'I',\n  2: 'II',\n  3: 'III',\n  4: 'IV',\n  5: 'V',\n  6: 'VI',\n  7: 'VII',\n  8: 'VIII',\n  9: 'IX',\n  10: 'X',\n};\n\nconst sortByTier = (a, b) => a.tier - b.tier;\n\nconst filterByType = (list, type) => {\n  return Object.values(list).filter(vehicle => vehicle.type == type);\n};\n\nconst getSortList = list => {\n  return Object.values(list).sort((firstVehicle, secondVehicle) => {\n    return sortByTier(firstVehicle, secondVehicle);\n  });\n};\n\nexport const getFilterList = list => {\n  return {\n    lightTank: getSortList(filterByType(list, 'lightTank')),\n    mediumTank: getSortList(filterByType(list, 'mediumTank')),\n    heavyTank: getSortList(filterByType(list, 'heavyTank')),\n    'AT-SPG': getSortList(filterByType(list, 'AT-SPG')),\n    SPG: getSortList(filterByType(list, 'SPG')),\n  };\n};\n\nexport const getUrl = (path, param = {}) => {\n  let params = { ...parameters, ...param };\n  getStringParams(params);\n  return `https://api.worldoftanks.ru/wot/encyclopedia/${path}/?${getStringParams(params)}`;\n};\n\nexport const getRomeNumber = num => {\n  return romeNumber[num];\n};\n","export const lang = {\n  ru: {\n    nation: 'Нация',\n    type: 'Вид',\n    modal: {\n      armor: 'Живучесть',\n      hp: 'Прочность',\n      hull: 'Бронирование корпуса (мм)',\n      turret: 'Бронирование башни (мм)',\n      weight: 'Масса (кг)',\n      ammo: 'Огневая мощь',\n      damage: 'Урон',\n      penetration: 'Бронепробитие',\n      fire_rate: 'Скорострельность (выстр/мин)',\n      aim_time: 'Время сведения (с)',\n      dispersion: 'Разброс на 100 м (м)',\n      max_ammo: 'Боекомплект',\n      crew: 'Экипаж',\n      range: 'Наблюдение',\n      view_range: 'Обзор (м)',\n      signal_range: 'Дальность связи (м)',\n      speed: 'Передвижение',\n      speed_forward: 'Максимальная скорость (км/ч)',\n      speed_backward: 'Макс. скорость заднего хода (км/ч)',\n      btn_add_compare: 'Добавить для сравнения',\n    },\n    typeTank: {\n      lightTank: 'Легкий танк',\n      mediumTank: 'Средний танк',\n      heavyTank: 'Тяжёлый танк',\n      'AT-SPG': 'ПТ-САУ',\n      SPG: 'САУ',\n    },\n  },\n  en: {\n    nation: 'Nation',\n    type: 'Type',\n    modal: {\n      armor: 'Vitality',\n      hp: 'Strength',\n      hull: 'Hull Armor (mm)',\n      turret: 'Turret armor (mm)',\n      weight: 'Weight (kg)',\n      ammo: 'Firepower',\n      damage: 'Damage',\n      penetration: 'Armor penetration',\n      fire_rate: 'Rate of fire (rds / min)',\n      aim_time: 'Aiming time (s)',\n      dispersion: 'Spread at 100 m (m))',\n      max_ammo: 'Ammunition',\n      crew: 'Crew',\n      range: 'Observation',\n      view_range: 'View range (m)',\n      signal_range: 'Communication range (m)',\n      speed: 'Movement',\n      speed_forward: 'Maximum speed (km / h)',\n      speed_backward: 'Max. reverse speed (km / h)',\n      btn_add_compare: 'Add to Compare',\n    },\n    typeTank: {\n      lightTank: 'Light Tank',\n      mediumTank: 'Medium Tank',\n      heavyTank: 'Heavy Tank',\n      'AT-SPG': 'Tank Destroyer',\n      SPG: 'SPG',\n    },\n  },\n  fr: {\n    nation: 'Nation',\n    type: 'Vue',\n    modal: {\n      armor: 'Vitalité',\n      hp: 'Force',\n      hull: 'Blindage de coque (mm)',\n      turret: 'Blindage de la tourelle (mm)',\n      weight: 'Poids (kg)',\n      ammo: 'Puissance de feu',\n      damage: 'Endommager',\n      penetration: 'Pénétration d`armure',\n      fire_rate: 'Cadence de tir (rds / min)',\n      aim_time: 'Temps (s) de visée',\n      dispersion: 'Écart à 100 m (m)',\n      max_ammo: 'Munition',\n      crew: 'Équipage',\n      range: 'Observation',\n      view_range: 'Évaluation (m)',\n      signal_range: 'Portée de communication (m)',\n      speed: 'Mouvement',\n      speed_forward: 'Vitesse maximale (km / h)',\n      speed_backward: 'Max. vitesse de marche arrière (km / h)',\n      btn_add_compare: 'Ajouter pour comparer',\n    },\n    typeTank: {\n      lightTank: 'Char léger',\n      mediumTank: 'Char moyen',\n      heavyTank: 'Char lourd',\n      'AT-SPG': 'Ch. de chars',\n      SPG: 'CAM',\n    },\n  },\n  de: {\n    nation: 'Nation',\n    type: 'Aussicht',\n    modal: {\n      armor: 'Vitalität',\n      hp: 'Stärke',\n      hull: 'Rumpfrüstung (mm)',\n      turret: 'Turmpanzerung (mm)',\n      weight: 'Gewicht (kg)',\n      ammo: 'Feuerkraft',\n      damage: 'Beschädigung',\n      penetration: 'Rüstungsdurchdringung',\n      fire_rate: 'Feuerrate (rds / min)',\n      aim_time: 'Zielzeit (en)',\n      dispersion: 'Ausbreitung auf 100 m (m)',\n      max_ammo: 'Munition',\n      crew: 'Besatzung',\n      range: 'Überwachung',\n      view_range: 'Rückblick (m)',\n      signal_range: 'Kommunikationsreichweite (m)',\n      speed: 'Bewegung',\n      speed_forward: 'Höchstgeschwindigkeit (km / h)',\n      speed_backward: 'Max. Rückwärtsgang (km / h)',\n      btn_add_compare: 'Hinzufügen zum vergleichen',\n    },\n    typeTank: {\n      lightTank: 'Leichter Panzer',\n      mediumTank: 'Mittlerer Panzer',\n      heavyTank: 'Schwere Panzer',\n      'AT-SPG': 'Jagdpanzer',\n      SPG: 'Selbstfahrlafette',\n    },\n  },\n  'zh-cn': {\n    nation: '国家',\n    type: '看法',\n    modal: {\n      armor: '活力',\n      hp: '力量',\n      hull: '船体装甲（mm)',\n      turret: '炮塔装甲（mm',\n      weight: '重量（公斤',\n      ammo: '火力',\n      damage: '损害',\n      penetration: '护甲穿透',\n      fire_rate: '射速（rds / min',\n      aim_time: '瞄准时间（秒)',\n      dispersion: '传播于100 m（m)',\n      max_ammo: '弹药',\n      crew: '全体人员',\n      range: '观察',\n      view_range: '评论（米)',\n      signal_range: '通讯范围（米)',\n      speed: '移动',\n      speed_forward: '最高速度（公里/小时)',\n      speed_backward: '最大限度。 倒车速度（公里/小时)',\n      btn_add_compare: '加入比较',\n    },\n    typeTank: {\n      lightTank: '轻型坦克',\n      mediumTank: '中型坦克',\n      heavyTank: '重型坦克',\n      'AT-SPG': '坦克歼击车',\n      SPG: 'SPG',\n    },\n  },\n};\n","import { getUrl, getRomeNumber, getFilterList } from './utils';\nimport { lang } from './lang';\n\nif (module.hot) {\n  module.hot.accept();\n}\n\nwindow.dataStore = {\n  status: {\n    error: null,\n    process: null,\n  },\n  init: {\n    cache: 'generalData',\n    path: 'info',\n    param: {\n      language: 'ru',\n    },\n  },\n  cache: {\n    generalData: null,\n    searchData: null,\n    vehicleData: null,\n  },\n  filters: {},\n  vehicle_compare: [],\n  user_compare: [],\n};\n\nwindow.renderApp = renderApp;\nwindow.loadData = loadData;\nwindow.performSearch = performSearch;\nwindow.searchByFilter = searchByFilter;\nwindow.getVehicleInfo = getVehicleInfo;\n\nperformSearch(window.dataStore.init.cache, window.dataStore.init.path, window.dataStore.init.param);\nrenderApp();\n\nfunction renderApp() {\n  document.querySelector('#app-root').innerHTML = `\n      ${App()}\n  `;\n}\n\nasync function loadData(path, param) {\n  const url = getUrl(path, param);\n  const response = await fetch(url);\n  const data = await response.json();\n  return data;\n}\n\nfunction performSearch(cache, path, param) {\n  window.dataStore.status.process = 'in load';\n  window\n    .loadData(path, param)\n    .then(({ error, data }) => {\n      if (error) {\n        window.dataStore.status.error = 'error';\n      } else if (data) {\n        window.dataStore.cache[cache] = data;\n      }\n    })\n    .catch(() => {\n      window.dataStore.status.error = 'Some error occurred.';\n    })\n    .finally(window.renderApp);\n}\n\nfunction searchByFilter(vehicle) {\n  const cacheType = vehicle.dataset.type;\n  const [key, value] = vehicle.dataset.value.split('_');\n  window.dataStore.filters[key] = value;\n  window.performSearch(cacheType, 'vehicles', window.dataStore.filters);\n}\n\nfunction getVehicleInfo(id = null) {\n  if (id) {\n    const vehicle = window.dataStore.cache.searchData[id];\n    document.querySelector('.modal').classList.add('modal--active');\n    document.querySelector('.modal').innerHTML = `     \n      <div class=\"modal-body\">\n        <div class=\"modal-header\">\n          <button \n            class=\"modal-header_btn\" \n            onclick=\"document.querySelector('.modal').classList.remove('modal--active');\"\n          >x</button>\n        </div>\n        <div class=\"modal-content\">\n          <div class=\"modal-wrap\">\n            <div class=\"vehicle-item\">\n              <span \n                class=\"vehicle-type \n                  ${vehicle.is_premium ? `type-${vehicle.type}--premium` : `type-${vehicle.type}`}\"\n              >\n                ${getRomeNumber(vehicle.tier)}\n              </span>\n              <span \n                class=\"vehicle-flag vehicle-flag-${vehicle.nation}\"\n              ></span>\n              <img \n                class=\"vehicle-img\"\n                src=\"${vehicle.images.big_icon}\"\n                alt=\"${vehicle.short_name}\"\n              > \n            </div>\n            <div>\n              <p class=\"modal-wrap_title vehicle-prop\">\n                <b class=\"vehicle-name\">${vehicle.name}</b> - \n                <b class=\"vehicle-price ${vehicle.price_credit ? 'price-silver' : 'price-gold'}\">\n                  ${\n                    vehicle.price_credit\n                      ? vehicle.price_credit\n                      : vehicle.price_gold\n                      ? vehicle.price_gold\n                      : '-'\n                  } \n                </b>\n              </p>\n              <p class=\"vehicle-prop vehicle-description\">${vehicle.description}</p>\n            </div>\n          </div>\n          <div>\n            <h2>\n              ${lang[window.dataStore.init.param.language].modal.armor}\n            </h2>\n            <p>\n              <span>\n                ${lang[window.dataStore.init.param.language].modal.hp}: \n              </span>\n              <b>\n                ${vehicle.default_profile.hp}\n              </b>\n            </p>\n            <p>\n              <span>\n                ${lang[window.dataStore.init.param.language].modal.hull}:\n              </span>\n              <b>\n                ${Object.values(vehicle.default_profile.armor.hull).join(' / ')}\n              </b>\n            </p>\n            ${\n              vehicle.default_profile.armor.turret\n                ? `<p>\n                    <span>\n                      ${lang[window.dataStore.init.param.language].modal.turret}: \n                    </span>\n                    <b>\n                      ${Object.values(vehicle.default_profile.armor.turret).join(' / ')}\n                    </b>\n                  </p>`\n                : ''\n            }\n            <p>\n              <span>\n              ${lang[window.dataStore.init.param.language].modal.weight}:\n              </span>\n              <b>\n                ${vehicle.default_profile.weight}\n              </b>\n            </p>\n          </div>\n          <div>\n            <h2>\n              ${lang[window.dataStore.init.param.language].modal.ammo}\n            </h2>\n            <p>\n              <span>\n                ${lang[window.dataStore.init.param.language].modal.damage}: \n              </span>\n              <b>\n                ${vehicle.default_profile.ammo\n                  .map(item => {\n                    return item.damage[1];\n                  })\n                  .join(' / ')}\n              </b>\n            </p>\n            <p>\n              <span>\n                ${lang[window.dataStore.init.param.language].modal.penetration}: \n              </span>\n              <b>\n                ${vehicle.default_profile.ammo\n                  .map(item => {\n                    return item.penetration[1];\n                  })\n                  .join(' / ')}\n              </b>\n            </p>\n            <p>\n              <span>\n                ${lang[window.dataStore.init.param.language].modal.fire_rate}: \n              </span>\n              <b>\n                ${vehicle.default_profile.gun.fire_rate}\n              </b>\n            </p>\n            <p>\n              <span>\n                ${lang[window.dataStore.init.param.language].modal.aim_time}: \n              </span>\n              <b>\n                ${vehicle.default_profile.gun.aim_time}\n              </b>\n            </p>\n            <p>\n              <span>\n                ${lang[window.dataStore.init.param.language].modal.dispersion}: \n              </span>\n              <b>\n                ${vehicle.default_profile.gun.dispersion}\n              </b>\n            </p>\n            <p>\n              <span>\n                ${lang[window.dataStore.init.param.language].modal.max_ammo}: \n              </span>\n              <b>\n                ${vehicle.default_profile.max_ammo}\n              </b>\n            </p>\n          </div>\n          <div>\n            <h2>\n              ${lang[window.dataStore.init.param.language].modal.crew}\n            </h2>\n            <p>\n              ${vehicle.crew\n                .map((member, key) => {\n                  return `${++key}. ${Object.values(member.roles).join('-')}`;\n                })\n                .join('<br>')}\n            </p>\n          </div>\n          <div>\n            <h2>\n              ${lang[window.dataStore.init.param.language].modal.range}\n            </h2>\n            <p>\n              <span>\n                ${lang[window.dataStore.init.param.language].modal.view_range}:\n              </span>\n              <b>\n                ${vehicle.default_profile.turret.view_range}\n              </b>\n            </p>        \n            <p>\n              <span>\n                ${lang[window.dataStore.init.param.language].modal.signal_range}:\n              </span>\n              <b>\n                ${vehicle.default_profile.radio.signal_range}\n              </b>\n            </p>\n          </div>\n          <div>\n            <h2>\n              ${lang[window.dataStore.init.param.language].modal.speed}\n            </h2>\n            <p>\n              <span>\n                ${lang[window.dataStore.init.param.language].modal.speed_forward}:\n              </span>\n              <b>\n                ${vehicle.default_profile.speed_forward}\n              </b>\n            </p>\n            <p>\n              <span>\n                ${lang[window.dataStore.init.param.language].modal.speed_backward}:\n              </span>\n              <b>\n                ${vehicle.default_profile.speed_backward}\n              </b>\n            </p>\n          </div>\n          </div>\n          <div class=\"modal-footer\">\n            <button \n              class=\"modal-footer_btn\" \n              onclick=\"window.dataStore.vehicle_compare.push(${vehicle.tank_id});\"\n            >\n              ${lang[window.dataStore.init.param.language].modal.btn_add_compare}\n            </button>\n          </div>\n      </div>\n    `;\n  } else {\n    return '';\n  }\n}\n\nfunction getVehicleList() {\n  const data = window.dataStore.cache.searchData;\n  if (data) {\n    return Object.entries(getFilterList(data))\n      .map(([type, list]) => {\n        if (list.length > 0) {\n          return `<div class=\"search-type\">\n                    <h1 class=\"search-type_title\">\n                      ${lang[window.dataStore.init.param.language].typeTank[type]}\n                    </h1>\n                    <div class=\"search-type_wrap\">\n                      ${list\n                        .map(vehicle => {\n                          return `\n                            <div \n                              class=\"vehicle-item\"\n                              data-type=\"vehicleData\"\n                              data-id=\"${vehicle.tank_id}\"\n                              onclick=\"(window.getVehicleInfo)(this.dataset.id)\"\n                            > \n                              <span \n                                class=\"vehicle-type ${\n                                  vehicle.is_premium\n                                    ? `type-${vehicle.type}--premium`\n                                    : `type-${vehicle.type}`\n                                }\"\n                              >\n                                ${getRomeNumber(vehicle.tier)}\n                              </span>\n                              <span \n                                class=\"vehicle-flag vehicle-flag-${vehicle.nation}\"\n                              ></span>\n                              <img \n                                class=\"vehicle-img\"\n                                src=\"${vehicle.images.big_icon}\"\n                                alt=\"${vehicle.short_name}\"\n                              /> \n                              <span \n                                class=\"vehicle-title ${\n                                  vehicle.is_premium ? 'vehicle-title--premium' : ''\n                                }\"\n                              >\n                                ${vehicle.short_name}\n                              </span>\n                            </div>`;\n                        })\n                        .join('')}\n                    </div>\n                  </div>`;\n        }\n      })\n      .join('');\n  } else {\n    return ``;\n  }\n}\n\nfunction getVehicleTypes() {\n  if (window.dataStore.cache.generalData) {\n    const { vehicle_types: vehicleTypes } = window.dataStore.cache.generalData;\n\n    return `\n      <ul class=\"nation-list\">\n          ${Object.keys(vehicleTypes)\n            .map(type => {\n              return `\n                <li \n                  class=\"type-item\"\n                  data-type=\"searchData\"\n                  data-value=\"type_${type}\"\n                  onclick=\"(window.searchByFilter)(this);\"\n                >\n                  <img \n                    class=\"type-img\"\n                    src=\"./images/types/${type.toLocaleLowerCase()}.png\"\n                    alt=\"${vehicleTypes[type]}\">\n                  <span>\n                    ${vehicleTypes[type]}\n                  </span>\n                </li>`;\n            })\n            .join('')}\n      </ul>`;\n  } else {\n    return '';\n  }\n}\n\nfunction getVehicleNations() {\n  if (window.dataStore.cache.generalData) {\n    const { vehicle_nations: nationList } = window.dataStore.cache.generalData;\n\n    return `\n      <ul class=\"nation-list\">\n          ${Object.keys(nationList)\n            .map(nation => {\n              return `\n                <li \n                  class=\"nation-item\"\n                  data-type=\"searchData\"\n                  data-value=\"nation_${nation}\"\n                  onclick=\"(window.searchByFilter)(this);\"\n                >\n                  <img \n                    class=\"nation-img\"\n                    src=\"./images/flags/${nation}.png\"\n                    alt=\"${nationList[nation]}\"\n                  >\n                  <span>\n                    ${nationList[nation]}\n                  </span>\n                </li>`;\n            })\n            .join('')}\n      </ul>`;\n  } else {\n    return '';\n  }\n}\n\nfunction App() {\n  return `\n    <div class=\"nation-wrap\">\n        <h2 class=\"nation-title\">${lang[window.dataStore.init.param.language].nation}</h2>\n        ${getVehicleNations()}\n    </div>\n    <div class=\"type-wrap\">\n        <h2 class=\"type-title\">${lang[window.dataStore.init.param.language].nation}</h2>\n        ${getVehicleTypes()}\n    </div>\n    <div class=\"vehicle-wrap\">\n        ${getVehicleList()}\n    </div>\n    <div class=\"modal\">\n        ${getVehicleInfo()}\n    </div>\n    `;\n}\n"]}